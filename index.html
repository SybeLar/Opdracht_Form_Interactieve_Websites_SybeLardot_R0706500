<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <link href="index.css" rel="stylesheet">
  <title>Form-R0706500-Sybe-Lardot</title>
</head>

<body>
  
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-6">
        <h1>Registreer</h1>
        <p>Meld je aan bij Anoroc Services, wij beschermen jouw software tegen malware!</p>
        <!--Formulier-->
        <form name="myForm" action="index.php" onsubmit="return CheckForm()" method="post">
          <!--Eerste rij-->
          <div class="row">
          <div class="col-md-6">
            <label for="fname" class="form-label">Voornaam</label>
             <input type="text" class="form-control voornaam" id="fname" name="fname" placeholder="Uw voornaam">
           </div>
           <div class="col-md-6">
            <label for="name" class="form-label">Naam</label>
            <input type="text" class="form-control naam" id="name" name="name" placeholder="Uw naam">
           </div>
          </div>
          <!--Tweede rij-->
           <div class="row">
            <div class="col-md-6">
              <label for="username" class="form-label">Gebruikersnaam</label>
              <div class="input-group flex-nowrap" style="white-space: nowrap;">
                <div class="input-group-text">@</div>
                <input type="text" class="form-control" id="username" placeholder="u911236">
              </div>
            </div>
            <div class="col-md-6">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" id="email" name="email">
            </div>
          </div>
          <!--Derde rij-->
          <div class="row">
            <div class="col-md-6">
              <label for="password" class="form-label">Wachtwoord</label>
            <input type="password" class="form-control" id="password" name="password">
            <p class="wwText">Je wachtwoord moet minstens 8 tekens lang zijn</p>
            </div>
            <div class="col-md-6">
              <label for="password2" class="form-label">Herhaal wachtwoord</label>
            <input type="password" class="form-control" id="password2" name="password2">
            </div>
          </div>
          <!--Vierde rij-->
          <div class="row">
            <div class="col-md-12">
              <label for="adres" class="form-label">Adres</label>
              <input type="text" class="form-control" id="adres" name="adres" placeholder="Uw adres en huisnummer">
            </div>
          </div>
          <!--Vijfde rij-->
          <div class="row">
            <div class="col-md-4">
              <label for="land" class="form-label">Land</label>
              <select class="form-select form-select-md" id="land" aria-label=".form-select-md example">
                <option selected value="0">Kies een land</option>
                <option value="1">BelgiÃ«</option>
                <option value="2">Nederland</option>
                <option value="3">Frankrijk</option>
              </select>
              </div>
            <div class="col-md-4">
              <label for="provincie" class="form-label">Provincie</label>
              <select class="form-select form-select-md" id="provincie" aria-label=".form-select-md example">
                <option selected value="0">Kies een provincie</option>
                <option value="1">Vlaams-Brabant</option>
                <option value="2">Antwerpen</option>
                <option value="3">Limburg</option>
              </select>
              </div>
            <div class="col-md-4">
              <label for="postcode" class="form-label">Postcode</label>
              <input type="text" class="form-control" id="postcode" name="postcode">
            </div>
          </div>
          <!--Zesde rij-->
          <div class="row">
            <div class="col-md-12">
              <hr>
            </div>
          </div>
          <!--Zevende rij-->
          <div class="row">
            <div class="col-md-6">
              <h4>Hou me op de hoogte</h4>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                <label class="form-check-label" for="flexCheckDefault">
                  Inschrijven voor onze nieuwsbrief
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="voorwaarden">
                <label class="form-check-label" for="flexCheckDefault">
                  Ik ga akkoord met de algemene voorwaarden.
                </label>
              </div>
            </div>
            <div class="col-md-6">
              <h4>Betaling</h4>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="Banking app">
                <label class="form-check-label" for="flexRadioDefault1">
                  Banking app
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="Overschrijving">
                <label class="form-check-label" for="flexRadioDefault1">
                  Overschrijving
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="Visa card">
                <label class="form-check-label" for="flexRadioDefault1">
                  Visa card
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="PayPal">
                <label class="form-check-label" for="flexRadioDefault1">
                  PayPal
                </label>
              </div>
            </div>
          </div>
          <!--Achtste rij-->
          <div class="row">
            <div class="col-md-12">
              <hr>
            </div>
          </div>
          <!--Negende rij-->
          <div class="row">
            <div class="col-md-12">  
              <button class="btn btn-primary" id="submitKnop">Wave your magic wand</button>
            </div>
          </div>
      </div>
      <!--Meldingen-->
      <div class="col-lg-4">
        <div class="col-md-6" id="alert">
          <div class="alert alert-danger" role="alert" id="fouteldingid">
           <h4 id = "foutmeldingenH4"></h4>
            <p id="foutmeldingenP"></p>
          </div>
          <div class="alert alert-info" role="alert" id="betalingalertid">
            <H4 id="betalingswijzeH4">Betalingswijze</H4>
            <p id="betalingswijzeP"></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('fouteldingid').style.display = "none"
    document.getElementById('betalingalertid').style.display = "none"
    let errors = []
    let juistebetaling = []
    let postcode = document.querySelector("#postcode")
    let email = document.querySelector("#email")
    function CheckForm(){
      //foutmeldingen leegmaken
      let foutmeldingenP = document.querySelector("#foutmeldingenP")
      let foutmeldingenH4 = document.querySelector("#foutmeldingenH4")

      //Controle of alles is ingevuld
      let fname = document.querySelector("#fname")
      let name = document.querySelector("#name")
      let username = document.querySelector("#username")
      let land = document.querySelector("#land")
      let provincie = document.querySelector("#provincie")
      let passwoord = document.querySelector("#password")
      let passwoord2 = document.querySelector("#password2")
      checkEmptyField(fname, "Het veld voornaam is vereist.")
      checkEmptyField(name, "Het veld naam is vereist.")
      checkEmptyField(username, "Het veld gebruikersnaam is vereist.")
      checkEmptyField(adres, "Het veld Adres is vereist.")
      checkEmptyField(land, "Het veld land is vereist.")
      checkEmptyField(provincie, "Het veld provincie is vereist.")
      checkEmptyField(passwoord, "Het wachtwoord is niet ingevuld")
      checkEmptyField(passwoord2, "Herhaal wachtwoord is niet ingevuld")
      validatePayment()
      checkPC(postcode)
      validateEmail(email)
//wachtwoord controle
      if (passwoord.value.length < 7 && passwoord.value !== "")
      {
        errors.push("Het wachtwoord is niet lang genoeg.")
      }

      if (passwoord.value != passwoord2.value) 
      {
        errors.push("Wachtwoorden komen niet overeen")
      }
//Algemene voorwaarden controleren
      let voorwaarden = document.querySelector("#voorwaarden")
      if (voorwaarden.checked === false) {
        errors.push("Je moet de algemene voorwaarden accepteren.")
      }

      
//Checken of errors leeg is 
      if(errors.length !== 0){
        document.getElementById('fouteldingid').style.display = "block"
          foutmeldingenH4.innerHTML = "Yikes errors"
          for (let i = 0; i < errors.length; i++) {
              foutmeldingenP.innerHTML += errors[i] + "<br>"
        }
        return false;
      }
      return true;
      }
      
//Betalingswijze controleren
      let betalingswijze = ""
      function validatePayment(){
        ids = ["Banking app","Overschrijving","Visa card","PayPal"]
      for (let i = 0; i < ids.length; i++) {
        if(document.getElementById(ids[i]).checked){
          betalingswijze = ids[i]
          break;
        }
      }
      if(betalingswijze != ""){
        juistebetaling.push("Betalingswijze is " + betalingswijze)
        document.querySelector("#betalingswijzeP").innerHTML = "Betalingswijze is " + betalingswijze
        document.getElementById('betalingalertid').style.display = "block"
        }
        else{
          errors.push("Kies een betalingswijze!")
        }
      }
  //Email controleren
  let validRegex = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-.]+(?:\.[a-zA-Z0-9-]+)*$/;
  //https://www.simplilearn.com/tutorials/javascript-tutorial/email-validation-in-javascript
  function validateEmail(email)
        {
            if(email.value.match(validRegex)){
                //https://www.freecodecamp.org/news/how-to-capitalize-the-first-letter-of-a-string-in-javascript/#:~:text=1.-,Get%20the%20First%20Letter%20of%20the%20String,first%20character%20of%20the%20string.&text=NOTE%3A%20charAt%20is%20preferable%20than,in%20case%20of%20%27%27%5B0%5D%20.
                if(email.value.charAt(0) == '.' || email.value.charAt(0) == '-' || email.value.substring(email.value.indexOf('@') +1, email.value.indexOf('@') +2) == '.' || email.value.substring(email.value.indexOf('@') +1, email.value.indexOf('@') +2) == '-')
                {   
                  errors.push("E-mail adres is niet correct")
                }
                
            }
            else 
            {
                errors.push("E-mail adres is niet correct")
            }
        }
  //Postcode controleren
      function checkPC(postcode){
        if (postcode.value == "") {
          errors.push("Het veld postcode is vereist.")
        }
        else if(postcode.value > 10000 || postcode.value < 1000){
          errors.push("Postcode is niet geldig. (1000-9999)")
        }
      }
  //Lege velden controleren
      function checkEmptyField(veld, melding)
        {
            if(veld.value == "" || veld.value == "Kies een land" || veld.value == "Kies een provincie" || veld.value == 0)
            {
                errors.push(melding)
            }
        }
  
  console.log(errors)
  console.log(juistebetaling)
  
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

</body>
</html>